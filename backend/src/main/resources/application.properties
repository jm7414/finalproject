spring.application.name=dementia-care

#datasource (PostgreSQL)
# DataSource는 DataSourceConfig.java에서 자동으로 구성됩니다.
# 로컬: DB_HOST=localhost (기본값) → 일반 TCP 연결
# 프로덕션: DB_HOST=/cloudsql/... → Unix Socket 연결
# 환경변수로 덮어쓰기 가능: DB_HOST, DB_PORT, DB_NAME, DB_USER, DB_PASSWORD

# HikariCP 연결 풀 설정 (타임아웃 및 재시도)
spring.datasource.hikari.connection-timeout=10000
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=600000

#mybatis
mybatis.mapper-locations=classpath:mapper/mapper-*.xml
mybatis.configuration.map-underscore-to-camel-case=true

##log 로깅은 일단 비활성화 해뒀어요
#logging.level.org.springframework.web=trace
#logging.level.org.springframework.bean=debug
#logging.level.mapper-chat=debug
#logging.level.com.safezone.tmapdemo=DEBUG
#logging.level.org.springframework.web.client=DEBUG

#스프링 시큐리티 임시 id/pw
spring.security.user.name=1
spring.security.user.password={noop}1

#### 아래의 내용은 tmap api 테스트용입니다 ###
# 서버 포트
server.port=8080

# HTTPS 설정 제거 (Cloud Run에서 자동 HTTPS 제공)
# 로컬 개발시에는 application-dev.properties 사용
# server.ssl.enabled=true
# server.ssl.key-store=classpath:localhost+1.p12
# server.ssl.key-store-password=changeit
# server.ssl.key-store-type=PKCS12

# Tmap API 설정
tmap.api.key=${TMAP_API_KEY:3EkdQeGupP3Y0mJO1SuVC31mEYHXemG4hJMIET47}
tmap.api.base-url=https://apis.openapi.sk.com/tmap

# 파일 업로드 설정
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.file-size-threshold=2KB

# 파일 스토리지 설정 (배포 환경: GCS 사용)
storage.type=${STORAGE_TYPE:gcs}
gcs.bucket.name=${GCS_BUCKET_NAME:dementia-care-uploads}
gcs.project.id=${GCP_PROJECT_ID:dementia-care-project}

